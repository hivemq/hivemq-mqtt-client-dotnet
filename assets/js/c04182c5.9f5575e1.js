"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4313],{8195:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var t=s(4848),i=s(8453);const l={},r="LastWillAndTestamentBuilder",a={id:"reference/last_will_and_testament_builder",title:"LastWillAndTestamentBuilder",description:"The LastWillAndTestamentBuilder class provides a fluent API for constructing instances of LastWillAndTestament. It allows you to set various properties for creating a Last Will and Testament message, such as the topic, payload, Quality of Service (QoS), and additional metadata.",source:"@site/docs/reference/last_will_and_testament_builder.md",sourceDirName:"reference",slug:"/reference/last_will_and_testament_builder",permalink:"/hivemq-mqtt-client-dotnet/docs/reference/last_will_and_testament_builder",draft:!1,unlisted:!1,editUrl:"https://github.com/hivemq/hivemq-mqtt-client-dotnet/tree/main/Documentation/docs/reference/last_will_and_testament_builder.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"LastWillAndTestament",permalink:"/hivemq-mqtt-client-dotnet/docs/reference/last_will_and_testament"},next:{title:"MQTT5PublishMessage",permalink:"/hivemq-mqtt-client-dotnet/docs/reference/publish_message"}},d={},c=[{value:"Constructor",id:"constructor",level:2},{value:"LastWillAndTestamentBuilder()",id:"lastwillandtestamentbuilder-1",level:3},{value:"Methods",id:"methods",level:2},{value:"WithTopic(string topic)",id:"withtopicstring-topic",level:3},{value:"WithPayload(byte[] payload)",id:"withpayloadbyte-payload",level:3},{value:"WithPayload(string payload)",id:"withpayloadstring-payload",level:3},{value:"WithQualityOfServiceLevel(QualityOfService qos)",id:"withqualityofservicelevelqualityofservice-qos",level:3},{value:"WithRetain(bool retain)",id:"withretainbool-retain",level:3},{value:"WithWillDelayInterval(long willDelayInterval)",id:"withwilldelayintervallong-willdelayinterval",level:3},{value:"WithPayloadFormatIndicator(MQTT5PayloadFormatIndicator payloadFormatIndicator)",id:"withpayloadformatindicatormqtt5payloadformatindicator-payloadformatindicator",level:3},{value:"WithMessageExpiryInterval(long messageExpiryInterval)",id:"withmessageexpiryintervallong-messageexpiryinterval",level:3},{value:"WithContentType(string contentType)",id:"withcontenttypestring-contenttype",level:3},{value:"WithResponseTopic(string responseTopic)",id:"withresponsetopicstring-responsetopic",level:3},{value:"WithCorrelationData(byte[] correlationData)",id:"withcorrelationdatabyte-correlationdata",level:3},{value:"WithUserProperty(string key, string value)",id:"withuserpropertystring-key-string-value",level:3},{value:"WithUserProperties(Dictionary&lt;string, string&gt; properties)",id:"withuserpropertiesdictionarystring-string-properties",level:3},{value:"Build()",id:"build",level:3}];function o(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"lastwillandtestamentbuilder",children:"LastWillAndTestamentBuilder"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"LastWillAndTestamentBuilder"})," class provides a fluent API for constructing instances of ",(0,t.jsx)(n.code,{children:"LastWillAndTestament"}),". It allows you to set various properties for creating a Last Will and Testament message, such as the topic, payload, Quality of Service (QoS), and additional metadata."]}),"\n",(0,t.jsx)(n.h2,{id:"constructor",children:"Constructor"}),"\n",(0,t.jsx)(n.h3,{id:"lastwillandtestamentbuilder-1",children:"LastWillAndTestamentBuilder()"}),"\n",(0,t.jsxs)(n.p,{children:["Initializes a new instance of the ",(0,t.jsx)(n.code,{children:"LastWillAndTestamentBuilder"})," class."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder();\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"var builder = new LastWillAndTestamentBuilder();\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"withtopicstring-topic",children:"WithTopic(string topic)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the topic for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithTopic(string topic);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"topic"})," ",(0,t.jsx)(n.em,{children:"(string)"}),": The topic name."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithTopic("client/disconnect");\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withpayloadbyte-payload",children:"WithPayload(byte[] payload)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the payload for the Last Will and Testament message as a byte array."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithPayload(byte[] payload);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"payload"})," ",(0,t.jsx)(n.em,{children:"(byte[])"}),": The payload in bytes."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithPayload(Encoding.UTF8.GetBytes("Disconnected unexpectedly"));\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withpayloadstring-payload",children:"WithPayload(string payload)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the payload for the Last Will and Testament message as a string."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithPayload(string payload);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"payload"})," ",(0,t.jsx)(n.em,{children:"(string)"}),": The payload as a string."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithPayload("Disconnected unexpectedly");\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withqualityofservicelevelqualityofservice-qos",children:"WithQualityOfServiceLevel(QualityOfService qos)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the Quality of Service (QoS) level for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithQualityOfServiceLevel(QualityOfService qos);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"qos"})," ",(0,t.jsx)(n.em,{children:"(QualityOfService)"}),": The QoS level."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"builder.WithQualityOfServiceLevel(QualityOfService.AtLeastOnce);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withretainbool-retain",children:"WithRetain(bool retain)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the retain flag for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithRetain(bool retain);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"retain"})," ",(0,t.jsx)(n.em,{children:"(bool)"}),": Whether the message should be retained by the broker."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"builder.WithRetain(true);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withwilldelayintervallong-willdelayinterval",children:"WithWillDelayInterval(long willDelayInterval)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the delay before the Last Will and Testament message is sent."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithWillDelayInterval(long willDelayInterval);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"willDelayInterval"})," ",(0,t.jsx)(n.em,{children:"(long)"}),": The delay in seconds."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"builder.WithWillDelayInterval(60); // Delay of 60 seconds\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withpayloadformatindicatormqtt5payloadformatindicator-payloadformatindicator",children:"WithPayloadFormatIndicator(MQTT5PayloadFormatIndicator payloadFormatIndicator)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the payload format indicator."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithPayloadFormatIndicator(MQTT5PayloadFormatIndicator payloadFormatIndicator);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"payloadFormatIndicator"})," ",(0,t.jsx)(n.em,{children:"(MQTT5PayloadFormatIndicator)"}),": The payload format indicator."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"builder.WithPayloadFormatIndicator(MQTT5PayloadFormatIndicator.Text);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withmessageexpiryintervallong-messageexpiryinterval",children:"WithMessageExpiryInterval(long messageExpiryInterval)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the expiry interval for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithMessageExpiryInterval(long messageExpiryInterval);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"messageExpiryInterval"})," ",(0,t.jsx)(n.em,{children:"(long)"}),": The expiry interval in seconds."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"builder.WithMessageExpiryInterval(3600); // 1 hour expiry\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withcontenttypestring-contenttype",children:"WithContentType(string contentType)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the content type for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithContentType(string contentType);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"contentType"})," ",(0,t.jsx)(n.em,{children:"(string)"}),": The content type."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithContentType("text/plain");\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withresponsetopicstring-responsetopic",children:"WithResponseTopic(string responseTopic)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the response topic for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithResponseTopic(string responseTopic);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"responseTopic"})," ",(0,t.jsx)(n.em,{children:"(string)"}),": The response topic."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithResponseTopic("response/topic");\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withcorrelationdatabyte-correlationdata",children:"WithCorrelationData(byte[] correlationData)"}),"\n",(0,t.jsx)(n.p,{children:"Sets the correlation data for the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithCorrelationData(byte[] correlationData);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"correlationData"})," ",(0,t.jsx)(n.em,{children:"(byte[])"}),": The correlation data."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithCorrelationData(Encoding.UTF8.GetBytes("12345"));\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withuserpropertystring-key-string-value",children:"WithUserProperty(string key, string value)"}),"\n",(0,t.jsx)(n.p,{children:"Adds a single user property to the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithUserProperty(string key, string value);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"key"})," ",(0,t.jsx)(n.em,{children:"(string)"}),": The key of the user property."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"value"})," ",(0,t.jsx)(n.em,{children:"(string)"}),": The value of the user property."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithUserProperty("reason", "client disconnect");\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"withuserpropertiesdictionarystring-string-properties",children:"WithUserProperties(Dictionary<string, string> properties)"}),"\n",(0,t.jsx)(n.p,{children:"Adds multiple user properties to the Last Will and Testament message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestamentBuilder WithUserProperties(Dictionary<string, string> properties);\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"properties"})," ",(0,t.jsx)(n.em,{children:"(Dictionary<string, string>)"}),": A dictionary of user properties."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'builder.WithUserProperties(new Dictionary<string, string>\n{\n    { "key1", "value1" },\n    { "key2", "value2" }\n});\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"build",children:"Build()"}),"\n",(0,t.jsxs)(n.p,{children:["Builds the ",(0,t.jsx)(n.code,{children:"LastWillAndTestament"})," instance."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"LastWillAndTestament Build();\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description"}),":",(0,t.jsx)(n.br,{}),"\nConstructs the ",(0,t.jsx)(n.code,{children:"LastWillAndTestament"})," instance and validates the configuration."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'var lwt = builder\n    .WithTopic("client/disconnect")\n    .WithPayload("Disconnected unexpectedly")\n    .WithQualityOfServiceLevel(QualityOfService.ExactlyOnce)\n    .WithRetain(true)\n    .Build();\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[694],{131:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>a,metadata:()=>t,toc:()=>d});var r=n(4848),i=n(8453);const a={},l="MQTT5PublishMessage",t={id:"reference/publish_message",title:"MQTT5PublishMessage",description:"The MQTT5PublishMessage class represents an MQTT 5 publish message. This class provides various properties and methods for defining the message details, such as the topic, payload, Quality of Service (QoS), and additional metadata.",source:"@site/docs/reference/publish_message.md",sourceDirName:"reference",slug:"/reference/publish_message",permalink:"/hivemq-mqtt-client-dotnet/docs/reference/publish_message",draft:!1,unlisted:!1,editUrl:"https://github.com/hivemq/hivemq-mqtt-client-dotnet/tree/main/Documentation/docs/reference/publish_message.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"LastWillAndTestamentBuilder",permalink:"/hivemq-mqtt-client-dotnet/docs/reference/last_will_and_testament_builder"},next:{title:"PublishMessageBuilder",permalink:"/hivemq-mqtt-client-dotnet/docs/reference/publish_message_builder"}},c={},d=[{value:"Constructor",id:"constructor",level:2},{value:"MQTT5PublishMessage()",id:"mqtt5publishmessage-1",level:3},{value:"MQTT5PublishMessage(string topic, QualityOfService? qos)",id:"mqtt5publishmessagestring-topic-qualityofservice-qos",level:3},{value:"Properties",id:"properties",level:2},{value:"Topic",id:"topic",level:3},{value:"QoS",id:"qos",level:3},{value:"PayloadFormatIndicator",id:"payloadformatindicator",level:3},{value:"MessageExpiryInterval",id:"messageexpiryinterval",level:3},{value:"TopicAlias",id:"topicalias",level:3},{value:"ResponseTopic",id:"responsetopic",level:3},{value:"CorrelationData",id:"correlationdata",level:3},{value:"UserProperties",id:"userproperties",level:3},{value:"SubscriptionIdentifiers",id:"subscriptionidentifiers",level:3},{value:"ContentType",id:"contenttype",level:3},{value:"Payload",id:"payload",level:3},{value:"PayloadAsString",id:"payloadasstring",level:3},{value:"Retain",id:"retain",level:3},{value:"Duplicate",id:"duplicate",level:3},{value:"Methods",id:"methods",level:2},{value:"Validate()",id:"validate",level:3}];function h(e){const s={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"mqtt5publishmessage",children:"MQTT5PublishMessage"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"MQTT5PublishMessage"})," class represents an MQTT 5 publish message. This class provides various properties and methods for defining the message details, such as the topic, payload, Quality of Service (QoS), and additional metadata."]}),"\n",(0,r.jsx)(s.h2,{id:"constructor",children:"Constructor"}),"\n",(0,r.jsx)(s.h3,{id:"mqtt5publishmessage-1",children:"MQTT5PublishMessage()"}),"\n",(0,r.jsxs)(s.p,{children:["Initializes a new instance of the ",(0,r.jsx)(s.code,{children:"MQTT5PublishMessage"})," class."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"MQTT5PublishMessage();\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"var message = new MQTT5PublishMessage();\n"})}),"\n",(0,r.jsx)(s.h3,{id:"mqtt5publishmessagestring-topic-qualityofservice-qos",children:"MQTT5PublishMessage(string topic, QualityOfService? qos)"}),"\n",(0,r.jsxs)(s.p,{children:["Initializes a new instance of the ",(0,r.jsx)(s.code,{children:"MQTT5PublishMessage"})," class with the specified topic and Quality of Service level."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"MQTT5PublishMessage(string topic, QualityOfService? qos);\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Parameters"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"topic"})," ",(0,r.jsx)(s.em,{children:"(string)"}),": The topic name."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"qos"})," ",(0,r.jsx)(s.em,{children:"(QualityOfService?)"}),": The QoS level."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'var message = new MQTT5PublishMessage("home/sensors/temperature", QualityOfService.AtLeastOnce);\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"topic",children:"Topic"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the topic of the publish message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"string? Topic { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nThe topic where the message will be published."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'message.Topic = "home/sensors/humidity";\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"qos",children:"QoS"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the Quality of Service level for the publish message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"QualityOfService? QoS { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nSpecifies the QoS level for message delivery."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.QoS = QualityOfService.ExactlyOnce;\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"payloadformatindicator",children:"PayloadFormatIndicator"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the payload format indicator."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"MQTT5PayloadFormatIndicator? PayloadFormatIndicator { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nIndicates the format of the payload."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.PayloadFormatIndicator = MQTT5PayloadFormatIndicator.Text;\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"messageexpiryinterval",children:"MessageExpiryInterval"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the message expiry interval in seconds."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"int? MessageExpiryInterval { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nThe time after which the message expires."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.MessageExpiryInterval = 3600;\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"topicalias",children:"TopicAlias"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the topic alias."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"int? TopicAlias { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nAn alias for the topic to reduce message size."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.TopicAlias = 42;\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"responsetopic",children:"ResponseTopic"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the response topic for the publish message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"string? ResponseTopic { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nSpecifies the topic for response messages."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'message.ResponseTopic = "home/responses/humidity";\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"correlationdata",children:"CorrelationData"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the correlation data for the publish message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"byte[]? CorrelationData { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nData used to correlate the message with a request."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.CorrelationData = new byte[] { 0x01, 0x02 };\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"userproperties",children:"UserProperties"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the user properties of the publish message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"Dictionary<string, string> UserProperties { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nCustom key-value pairs to add metadata."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'message.UserProperties["key1"] = "value1";\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"subscriptionidentifiers",children:"SubscriptionIdentifiers"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the subscription identifiers associated with the message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"List<int> SubscriptionIdentifiers { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nIdentifies the subscriptions matching this message."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.SubscriptionIdentifiers.Add(12345);\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"contenttype",children:"ContentType"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the content type of the payload."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"string? ContentType { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nIndicates the type of the message payload."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'message.ContentType = "application/json";\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"payload",children:"Payload"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the payload as a byte array."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"byte[]? Payload { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nThe message payload in binary format."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'message.Payload = Encoding.UTF8.GetBytes("Hello, MQTT!");\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"payloadasstring",children:"PayloadAsString"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the payload as a string."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"string PayloadAsString { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nThe payload in string format."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'message.PayloadAsString = "Hello, MQTT!";\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"retain",children:"Retain"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the retain flag of the message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"bool Retain { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nIndicates whether the message should be retained by the broker."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.Retain = true;\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"duplicate",children:"Duplicate"}),"\n",(0,r.jsx)(s.p,{children:"Gets or sets the duplicate flag of the message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"bool Duplicate { get; set; }\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nIndicates whether this message is a retransmission."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"message.Duplicate = true;\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"validate",children:"Validate()"}),"\n",(0,r.jsx)(s.p,{children:"Validates the properties of the message."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:"void Validate();\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),":",(0,r.jsx)(s.br,{}),"\nChecks if the message properties are valid."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-csharp",children:'try\n{\n    message.Validate();\n}\ncatch (HiveMQttClientException ex)\n{\n    Console.WriteLine($"Validation failed: {ex.Message}");\n}\n'})})]})}function o(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>t});var r=n(6540);const i={},a=r.createContext(i);function l(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);